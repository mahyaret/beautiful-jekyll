---
layout: post
title: PWM speed control (pic18f4550)
date: '2010-03-08T02:56:00.000-05:00'
author: Mahyar
tags:
- PIC
modified_time: '2010-03-08T04:25:09.043-05:00'
blogger_id: tag:blogger.com,1999:blog-727803219276813688.post-2723137735946112323
blogger_orig_url: http://www.etedal.net/2010/03/pwm-speed-control-pic18f4550.html
---

here is the ccs code:<br /><br />#include <18f4550.h><br />#fuses HS,NOWDT,NOPROTECT,NOLVP<br />#use delay(clock = 20000000)<br />void main() {<br /> unsigned int16 value;// Input variable<br /> setup_adc_ports(ALL_ANALOG);// Input combination<br /> setup_adc(adc_clock_internal);// ADC clock<br /> set_adc_channel(0);// Select RA0<br /> setup_ccp1(ccp_pwm); // Select timer and mode  <br /> setup_timer_2(T2_DIV_BY_16,248,1); // Clock rate &amp; output period<br /> while(1) {<br />    value=read_adc();//Get input byte<br />    set_pwm1_duty(value);// Set on time<br /> }<br />}<br /><br />everything is exactly same as previous post + a simple <span class="description">potentiometer which is connected to pin2.<br /><br />here is the execution:<br /><object width="425" height="344"><param name="movie" value="http://www.youtube.com/v/HIV-9QdySBs&hl=en_US&fs=1&"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/HIV-9QdySBs&hl=en_US&fs=1&" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="344"></embed></object><br /></span>