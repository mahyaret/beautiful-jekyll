---
layout: post
title: Upgrading Alsa
date: '2010-01-15T08:14:00.005-05:00'
author: Mahyar
tags:
- Linux
modified_time: '2010-03-01T11:43:09.768-05:00'
blogger_id: tag:blogger.com,1999:blog-727803219276813688.post-3999196771337991751
blogger_orig_url: http://www.etedal.net/2010/01/upgrading-alsa.html
---

<p><b><u>Installation :</u></b></p><br /><p>To do this, we must begin by determining our version of alsa as follows :<br><br /><br><br /><font face="Courier New">cat /proc/asound/version<br><br />Advanced Linux Sound Architecture Driver Version 1.0.20.</font></p><br /><p>To avoid problems during the upgrade of Alsa-utils, we need to stop it with the following command :</p><br /><p><font face="Courier New">sudo /etc/init.d/alsa-utils stop  </font></p><br /><div style="text-align: left;" dir="ltr">We must then install the necessary tools to compile along with the kernel headers :</div><br /><p><font face="Courier New">sudo apt-get -y install build-essential ncurses-dev gettext xmlto<br><br />sudo apt-get -y install linux-headers-`uname -r` libncursesw5-dev</font></p><br /><p>Then, we go in our personal folder and download alsa-driver, alsa-lib and alsa-utils :</p><br /><p><font face="Courier New">cd ~<br><br />rm -rf ~/alsa* ~/.pulse*<br><br />wget <a href="ftp://ftp.alsa-project.org/pub/driver/alsa-driver-1.0.21.tar.bz2">ftp://ftp.alsa-project.org/pub/driver/alsa-driver-1.0.21.tar.bz2</a><br><br />wget <a href="ftp://ftp.alsa-project.org/pub/lib/alsa-lib-1.0.21a.tar.bz2">ftp://ftp.alsa-project.org/pub/lib/alsa-lib-1.0.21a.tar.bz2</a><br><br />wget <a href="ftp://ftp.alsa-project.org/pub/utils/alsa-utils-1.0.21.tar.bz2">ftp://ftp.alsa-project.org/pub/utils/alsa-utils-1.0.21.tar.bz2</a></font></p><br /><p>After that, we create a new folder for the compilation and<br />installation of the 3 files. Then, we move the 3 tar files that we just<br />downloaded in this folder :</p><br /><p><font face="Courier New">sudo rm -rf /usr/src/alsa<br><br />sudo mkdir -p /usr/src/alsa<br><br />cd /usr/src/alsa<br><br />sudo cp ~/alsa* .</font></p><br /><p>Unpack the 3 tar files :</p><br /><p><font face="Courier New">sudo tar xjf alsa-driver*<br><br />sudo tar xjf alsa-lib*<br><br />sudo tar xjf alsa-utils*</font></p><br /><p>We compile and install alsa-driver :</p><br /><p><font face="Courier New">cd alsa-driver*<br><br />sudo ./configure<br><br />sudo make<br><br />sudo make install</font></p><br /><p>We compile and install alsa-lib :</p><br /><p><font face="Courier New">cd ../alsa-lib*<br><br />sudo ./configure<br><br />sudo make<br><br />sudo make install</font></p><br /><p>We compile and install alsa-utils :</p><br /><p><font face="Courier New">cd ../alsa-utils*<br><br />sudo ./configure<br><br />sudo make<br><br />sudo make install</font></p><br /><p><u>If like me, you got this error during the last “sudo ./configure” :</u></p><br /><p><font face="Courier New">checking form.h presence... yes<br><br />checking for form.h... yes<br><br />checking for new_panel in -lpanelw... no<br><br />configure: error: panelw library not found </font></p><br /><p>You will need to add those symbolics links (<b>only if you got the error</b>) and restart the installation from the last “sudo ./configure” :<br><br /><br><font face="Courier New">sudo ln -s libpanelw.so.5 /usr/lib/libpanelw.so<br><br />sudo ln -s libformw.so.5 /usr/lib/libformw.so<br><br />sudo ln -s libmenuw.so.5 /usr/lib/libmenuw.so<br><br />sudo ln -s libncursesw.so.5 /lib/libncursesw.so</font></p><br /><p>Then, we remove the 3 tar files in our personal folder that are not anymore necessary :</p><br /><p><font face="Courier New">rm -f ~/alsa-driver*<br><br />rm -f ~/alsa-lib*<br><br />rm -f ~/alsa-utils*</font></p><br /><p>Then, just restart your computer and your alsa version should be 1.0.21!</p><br /><p>You can verify that you have now indeed have this version of alsa :</p><br /><p><font face="Courier New">cat /proc/asound/version<br><br />Advanced Linux Sound Architecture Driver Version 1.0.21.<br><br />Compiled on Oct 15 2009 for kernel 2.6.31-14-generic (SMP)</font></p><br /><p>Just to be sure everything is well configured, execute this command :</p><br /><p><font face="Courier New">sudo alsaconf</font></p><br /><p>and reboot again!</p><br>